<!DOCTYPE html>
<html>
<head>
  <title>Live Record</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5 text-center">
  <h2>Live Recording</h2>
  <video id="camera" width="480" height="360" autoplay></video><br>
  <button id="start" class="btn btn-success mt-3">Start</button>
  <button id="stop" class="btn btn-danger mt-3">Stop</button>

  <script>
    const video = document.getElementById('camera');
    const start = document.getElementById('start');
    const stop = document.getElementById('stop');
    let mediaRecorder; let chunks = [];

    navigator.mediaDevices.getUserMedia({ video: true, audio: true })
      .then(stream => {
        video.srcObject = stream;
        mediaRecorder = new MediaRecorder(stream);
        mediaRecorder.ondataavailable = e => chunks.push(e.data);
        mediaRecorder.onstop = () => {
          const blob = new Blob(chunks, { type: 'video/mp4' });
          const a = document.createElement('a');
          a.href = URL.createObjectURL(blob);
          a.download = 'interview.mp4';
          a.click();
          chunks = [];
        };
        start.onclick = () => mediaRecorder.start();
        stop.onclick = () => mediaRecorder.stop();
      })
      .catch(err => alert("Camera access denied: " + err));
  </script>
</div>
</body>
</html>
